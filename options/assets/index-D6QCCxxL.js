(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const pr=!1;var _r=Array.isArray,xr=Array.from,wr=Object.defineProperty,Ie=Object.getOwnPropertyDescriptor,yr=Object.getOwnPropertyDescriptors,br=Object.getPrototypeOf;function Er(e){return e()}function Oe(e){for(var r=0;r<e.length;r++)e[r]()}const F=2,Ye=4,De=8,Cr=16,R=32,ge=64,xe=128,Z=256,ae=512,N=1024,ne=2048,fe=4096,le=8192,z=16384,Tr=32768,kr=65536,Dr=1<<19,Ze=1<<20,Ne=Symbol("$state");function ze(e){return e===this.v}function Pr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Sr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Mr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ir(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Or(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}let Ge=!1;function Nr(){Ge=!0}const Br=2;function Lr(e,r){var n={f:0,v:e,reactions:null,equals:ze,version:0};return n}var Be,Je,Qe;function Fr(){if(Be===void 0){Be=window;var e=Element.prototype,r=Node.prototype;Je=Ie(r,"firstChild").get,Qe=Ie(r,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Rr(e=""){return document.createTextNode(e)}function jr(e){return Je.call(e)}function $r(e){return Qe.call(e)}function qr(e){var r=F|ne;x===null?r|=Z:x.f|=Ze;var n=w!==null&&w.f&F?w:null;const t={children:null,ctx:T,deps:null,equals:ze,f:r,fn:e,reactions:null,v:null,version:0,parent:n??x};return n!==null&&(n.children??(n.children=[])).push(t),t}function Xe(e){var r=e.children;if(r!==null){e.children=null;for(var n=0;n<r.length;n+=1){var t=r[n];t.f&F?Pe(t):q(t)}}}function Wr(e){for(var r=e.parent;r!==null;){if(!(r.f&F))return r;r=r.parent}return null}function er(e){var r,n=x;Y(Wr(e));try{Xe(e),r=cr(e)}finally{Y(n)}return r}function rr(e){var r=er(e),n=(j||e.f&Z)&&e.deps!==null?fe:N;W(e,n),e.equals(r)||(e.v=r,e.version=Jr())}function Pe(e){Xe(e),re(e,0),W(e,z),e.v=e.children=e.deps=e.ctx=e.reactions=null}function nr(e){x===null&&w===null&&Mr(),w!==null&&w.f&Z&&Sr(),Se&&Pr()}function Vr(e,r){var n=r.last;n===null?r.last=r.first=e:(n.next=e,e.prev=n,r.last=e)}function me(e,r,n,t=!0){var o=(e&ge)!==0,s=x,i={ctx:T,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|ne,first:null,fn:r,last:null,next:null,parent:o?null:s,prev:null,teardown:null,transitions:null,version:0};if(n){var f=H;try{Fe(!0),Me(i),i.f|=Tr}catch(d){throw q(i),d}finally{Fe(f)}}else r!==null&&gr(i);var l=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&Ze)===0;if(!l&&!o&&t&&(s!==null&&Vr(i,s),w!==null&&w.f&F)){var c=w;(c.children??(c.children=[])).push(i)}return i}function Le(e){nr();var r=x!==null&&(x.f&R)!==0&&T!==null&&!T.m;if(r){var n=T;(n.e??(n.e=[])).push({fn:e,effect:x,reaction:w})}else{var t=tr(e);return t}}function Ur(e){return nr(),Kr(e)}function Hr(e){const r=me(ge,e,!0);return(n={})=>new Promise(t=>{n.outro?zr(r,()=>{q(r),t(void 0)}):(q(r),t(void 0))})}function tr(e){return me(Ye,e,!1)}function Kr(e){return me(De,e,!0)}function Yr(e,r=!0){return me(De|R,e,!0,r)}function sr(e){var r=e.teardown;if(r!==null){const n=Se,t=w;Re(!0),K(null);try{r.call(null)}finally{Re(n),K(t)}}}function or(e){var r=e.deriveds;if(r!==null){e.deriveds=null;for(var n=0;n<r.length;n+=1)Pe(r[n])}}function ir(e,r=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var t=n.next;q(n,r),n=t}}function Zr(e){for(var r=e.first;r!==null;){var n=r.next;r.f&R||q(r),r=n}}function q(e,r=!0){var n=!1;if((r||e.f&Dr)&&e.nodes_start!==null){for(var t=e.nodes_start,o=e.nodes_end;t!==null;){var s=t===o?null:$r(t);t.remove(),t=s}n=!0}ir(e,r&&!n),or(e),re(e,0),W(e,z);var i=e.transitions;if(i!==null)for(const l of i)l.stop();sr(e);var f=e.parent;f!==null&&f.first!==null&&ar(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function ar(e){var r=e.parent,n=e.prev,t=e.next;n!==null&&(n.next=t),t!==null&&(t.prev=n),r!==null&&(r.first===e&&(r.first=t),r.last===e&&(r.last=n))}function zr(e,r){var n=[];lr(e,n,!0),Gr(n,()=>{q(e),r()})}function Gr(e,r){var n=e.length;if(n>0){var t=()=>--n||r();for(var o of e)o.out(t)}else r()}function lr(e,r,n){if(!(e.f&le)){if(e.f^=le,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&r.push(i);for(var t=e.first;t!==null;){var o=t.next,s=(t.f&kr)!==0||(t.f&R)!==0;lr(t,r,s?n:!1),t=o}}}let oe=!1,ue=!1,ce=null,H=!1,Se=!1;function Fe(e){H=e}function Re(e){Se=e}let we=[],Q=0;let w=null;function K(e){w=e}let x=null;function Y(e){x=e}let X=null,D=null,S=0,ee=null,ur=1,j=!1,T=null;function Jr(){return++ur}function Ae(e){var c;var r=e.f;if(r&ne)return!0;if(r&fe){var n=e.deps,t=(r&Z)!==0;if(n!==null){var o,s,i=(r&ae)!==0,f=t&&x!==null&&!j,l=n.length;if(i||f){for(o=0;o<l;o++)s=n[o],(c=s==null?void 0:s.reactions)!=null&&c.includes(e)||(s.reactions??(s.reactions=[])).push(e);i&&(e.f^=ae)}for(o=0;o<l;o++)if(s=n[o],Ae(s)&&rr(s),s.version>e.version)return!0}(!t||x!==null&&!j)&&W(e,N)}return!1}function Qr(e,r){for(var n=r;n!==null;){if(n.f&xe)try{n.fn(e);return}catch{n.f^=xe}n=n.parent}throw oe=!1,e}function Xr(e){return(e.f&z)===0&&(e.parent===null||(e.parent.f&xe)===0)}function de(e,r,n,t){if(oe){if(n===null&&(oe=!1),Xr(r))throw e;return}n!==null&&(oe=!0);{Qr(e,r);return}}function cr(e){var v;var r=D,n=S,t=ee,o=w,s=j,i=X,f=T,l=e.f;D=null,S=0,ee=null,w=l&(R|ge)?null:e,j=!H&&(l&Z)!==0,X=null,T=e.ctx;try{var c=(0,e.fn)(),d=e.deps;if(D!==null){var g;if(re(e,S),d!==null&&S>0)for(d.length=S+D.length,g=0;g<D.length;g++)d[S+g]=D[g];else e.deps=d=D;if(!j)for(g=S;g<d.length;g++)((v=d[g]).reactions??(v.reactions=[])).push(e)}else d!==null&&S<d.length&&(re(e,S),d.length=S);return c}finally{D=r,S=n,ee=t,w=o,j=s,X=i,T=f}}function en(e,r){let n=r.reactions;if(n!==null){var t=n.indexOf(e);if(t!==-1){var o=n.length-1;o===0?n=r.reactions=null:(n[t]=n[o],n.pop())}}n===null&&r.f&F&&(D===null||!D.includes(r))&&(W(r,fe),r.f&(Z|ae)||(r.f^=ae),re(r,0))}function re(e,r){var n=e.deps;if(n!==null)for(var t=r;t<n.length;t++)en(e,n[t])}function Me(e){var r=e.f;if(!(r&z)){W(e,N);var n=x,t=T;x=e;try{r&Cr?Zr(e):ir(e),or(e),sr(e);var o=cr(e);e.teardown=typeof o=="function"?o:null,e.version=ur}catch(s){de(s,e,n,t||e.ctx)}finally{x=n}}}function rn(){if(Q>1e3){Q=0;try{Ir()}catch(e){if(ce!==null)de(e,ce,null);else throw e}}Q++}function nn(e){var r=e.length;if(r!==0){rn();var n=H;H=!0;try{for(var t=0;t<r;t++){var o=e[t];o.f&N||(o.f^=N);var s=[];fr(o,s),tn(s)}}finally{H=n}}}function tn(e){var r=e.length;if(r!==0)for(var n=0;n<r;n++){var t=e[n];if(!(t.f&(z|le)))try{Ae(t)&&(Me(t),t.deps===null&&t.first===null&&t.nodes_start===null&&(t.teardown===null?ar(t):t.fn=null))}catch(o){de(o,t,null,t.ctx)}}}function sn(){if(ue=!1,Q>1001)return;const e=we;we=[],nn(e),ue||(Q=0,ce=null)}function gr(e){ue||(ue=!0,queueMicrotask(sn)),ce=e;for(var r=e;r.parent!==null;){r=r.parent;var n=r.f;if(n&(ge|R)){if(!(n&N))return;r.f^=N}}we.push(r)}function fr(e,r){var n=e.first,t=[];e:for(;n!==null;){var o=n.f,s=(o&R)!==0,i=s&&(o&N)!==0,f=n.next;if(!i&&!(o&le))if(o&De){if(s)n.f^=N;else try{Ae(n)&&Me(n)}catch(g){de(g,n,null,n.ctx)}var l=n.first;if(l!==null){n=l;continue}}else o&Ye&&t.push(n);if(f===null){let g=n.parent;for(;g!==null;){if(e===g)break e;var c=g.next;if(c!==null){n=c;continue e}g=g.parent}}n=f}for(var d=0;d<t.length;d++)l=t[d],r.push(l),fr(l,r)}function mr(e){var d;var r=e.f,n=(r&F)!==0;if(n&&r&z){var t=er(e);return Pe(e),t}if(w!==null){X!==null&&X.includes(e)&&Or();var o=w.deps;D===null&&o!==null&&o[S]===e?S++:D===null?D=[e]:D.push(e),ee!==null&&x!==null&&x.f&N&&!(x.f&R)&&ee.includes(e)&&(W(x,ne),gr(x))}else if(n&&e.deps===null)for(var s=e,i=s.parent,f=s;i!==null;)if(i.f&F){var l=i;f=l,i=l.parent}else{var c=i;(d=c.deriveds)!=null&&d.includes(f)||(c.deriveds??(c.deriveds=[])).push(f);break}return n&&(s=e,Ae(s)&&rr(s)),e.v}function on(e){const r=w;try{return w=null,e()}finally{w=r}}const an=~(ne|fe|N);function W(e,r){e.f=e.f&an|r}function Ar(e,r=!1,n){T={p:T,c:null,e:null,m:!1,s:e,x:null,l:null},Ge&&!r&&(T.l={s:null,u:null,r1:[],r2:Lr(!1)})}function dr(e){const r=T;if(r!==null){const i=r.e;if(i!==null){var n=x,t=w;r.e=null;try{for(var o=0;o<i.length;o++){var s=i[o];Y(s.effect),K(s.reaction),tr(s.fn)}}finally{Y(n),K(t)}}T=r.p,r.m=!0}return{}}function ln(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ne in e)ye(e);else if(!Array.isArray(e))for(let r in e){const n=e[r];typeof n=="object"&&n&&Ne in n&&ye(n)}}}function ye(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let t in e)try{ye(e[t],r)}catch{}const n=br(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const t=yr(n);for(let o in t){const s=t[o].get;if(s)try{s.call(e)}catch{}}}}}const un=["touchstart","touchmove"];function cn(e){return un.includes(e)}const gn=new Set,je=new Set;function se(e){var E;var r=this,n=r.ownerDocument,t=e.type,o=((E=e.composedPath)==null?void 0:E.call(e))||[],s=o[0]||e.target,i=0,f=e.__root;if(f){var l=o.indexOf(f);if(l!==-1&&(r===document||r===window)){e.__root=r;return}var c=o.indexOf(r);if(c===-1)return;l<=c&&(i=l)}if(s=o[i]||e.target,s!==r){wr(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=w,g=x;K(null),Y(null);try{for(var v,h=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var y=s["__"+t];if(y!==void 0&&!s.disabled)if(_r(y)){var[B,...k]=y;B.apply(s,[e,...k])}else y.call(s,e)}catch(O){v?h.push(O):v=O}if(e.cancelBubble||_===r||_===null)break;s=_}if(v){for(let O of h)queueMicrotask(()=>{throw O});throw v}}finally{e.__root=r,delete e.currentTarget,K(d),Y(g)}}}function fn(e){var r=document.createElement("template");return r.innerHTML=e,r.content}function mn(e,r){var n=x;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=r)}function An(e,r){var n=(r&Br)!==0,t,o=!e.startsWith("<!>");return()=>{t===void 0&&(t=fn(o?e:"<!>"+e),t=jr(t));var s=n?document.importNode(t,!0):t.cloneNode(!0);return mn(s,s),s}}function dn(e,r){e!==null&&e.before(r)}function vn(e,r){return hn(e,r)}const U=new Map;function hn(e,{target:r,anchor:n,props:t={},events:o,context:s,intro:i=!0}){Fr();var f=new Set,l=g=>{for(var v=0;v<g.length;v++){var h=g[v];if(!f.has(h)){f.add(h);var _=cn(h);r.addEventListener(h,se,{passive:_});var y=U.get(h);y===void 0?(document.addEventListener(h,se,{passive:_}),U.set(h,1)):U.set(h,y+1)}}};l(xr(gn)),je.add(l);var c=void 0,d=Hr(()=>{var g=n??r.appendChild(Rr());return Yr(()=>{if(s){Ar({});var v=T;v.c=s}o&&(t.$$events=o),c=e(g,t)||{},s&&dr()}),()=>{var _;for(var v of f){r.removeEventListener(v,se);var h=U.get(v);--h===0?(document.removeEventListener(v,se),U.delete(v)):U.set(v,h)}je.delete(l),g!==n&&((_=g.parentNode)==null||_.removeChild(g))}});return pn.set(c,d),c}let pn=new WeakMap;function _n(e=!1){const r=T,n=r.l.u;if(!n)return;let t=()=>ln(r.s);if(e){let o=0,s={};const i=qr(()=>{let f=!1;const l=r.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],f=!0);return f&&o++,o});t=()=>mr(i)}n.b.length&&Ur(()=>{$e(r,t),Oe(n.b)}),Le(()=>{const o=on(()=>n.m.map(Er));return()=>{for(const s of o)typeof s=="function"&&s()}}),n.a.length&&Le(()=>{$e(r,t),Oe(n.a)})}function $e(e,r){if(e.l.s)for(const n of e.l.s)mr(n);r()}const xn="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(xn);Nr();function wn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ie={exports:{}},yn=ie.exports,qe;function bn(){return qe||(qe=1,function(e,r){(function(n,t){t(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:yn,function(n){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)n.exports=globalThis.browser;else{const t="The message port closed before a response was received.",o=s=>{const i={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(i).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class f extends WeakMap{constructor(u,A=void 0){super(A),this.createItem=u}get(u){return this.has(u)||this.set(u,this.createItem(u)),super.get(u)}}const l=a=>a&&typeof a=="object"&&typeof a.then=="function",c=(a,u)=>(...A)=>{s.runtime.lastError?a.reject(new Error(s.runtime.lastError.message)):u.singleCallbackArg||A.length<=1&&u.singleCallbackArg!==!1?a.resolve(A[0]):a.resolve(A)},d=a=>a==1?"argument":"arguments",g=(a,u)=>function(p,...C){if(C.length<u.minArgs)throw new Error(`Expected at least ${u.minArgs} ${d(u.minArgs)} for ${a}(), got ${C.length}`);if(C.length>u.maxArgs)throw new Error(`Expected at most ${u.maxArgs} ${d(u.maxArgs)} for ${a}(), got ${C.length}`);return new Promise((P,M)=>{if(u.fallbackToNoCallback)try{p[a](...C,c({resolve:P,reject:M},u))}catch(m){console.warn(`${a} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,m),p[a](...C),u.fallbackToNoCallback=!1,u.noCallback=!0,P()}else u.noCallback?(p[a](...C),P()):p[a](...C,c({resolve:P,reject:M},u))})},v=(a,u,A)=>new Proxy(u,{apply(p,C,P){return A.call(C,a,...P)}});let h=Function.call.bind(Object.prototype.hasOwnProperty);const _=(a,u={},A={})=>{let p=Object.create(null),C={has(M,m){return m in a||m in p},get(M,m,I){if(m in p)return p[m];if(!(m in a))return;let b=a[m];if(typeof b=="function")if(typeof u[m]=="function")b=v(a,a[m],u[m]);else if(h(A,m)){let V=g(m,A[m]);b=v(a,a[m],V)}else b=b.bind(a);else if(typeof b=="object"&&b!==null&&(h(u,m)||h(A,m)))b=_(b,u[m],A[m]);else if(h(A,"*"))b=_(b,u[m],A["*"]);else return Object.defineProperty(p,m,{configurable:!0,enumerable:!0,get(){return a[m]},set(V){a[m]=V}}),b;return p[m]=b,b},set(M,m,I,b){return m in p?p[m]=I:a[m]=I,!0},defineProperty(M,m,I){return Reflect.defineProperty(p,m,I)},deleteProperty(M,m){return Reflect.deleteProperty(p,m)}},P=Object.create(a);return new Proxy(P,C)},y=a=>({addListener(u,A,...p){u.addListener(a.get(A),...p)},hasListener(u,A){return u.hasListener(a.get(A))},removeListener(u,A){u.removeListener(a.get(A))}}),B=new f(a=>typeof a!="function"?a:function(A){const p=_(A,{},{getContent:{minArgs:0,maxArgs:0}});a(p)}),k=new f(a=>typeof a!="function"?a:function(A,p,C){let P=!1,M,m=new Promise(J=>{M=function(L){P=!0,J(L)}}),I;try{I=a(A,p,M)}catch(J){I=Promise.reject(J)}const b=I!==!0&&l(I);if(I!==!0&&!b&&!P)return!1;const V=J=>{J.then(L=>{C(L)},L=>{let he;L&&(L instanceof Error||typeof L.message=="string")?he=L.message:he="An unexpected error occurred",C({__mozWebExtensionPolyfillReject__:!0,message:he})}).catch(L=>{console.error("Failed to send onMessage rejected reply",L)})};return V(b?I:m),!0}),E=({reject:a,resolve:u},A)=>{s.runtime.lastError?s.runtime.lastError.message===t?u():a(new Error(s.runtime.lastError.message)):A&&A.__mozWebExtensionPolyfillReject__?a(new Error(A.message)):u(A)},O=(a,u,A,...p)=>{if(p.length<u.minArgs)throw new Error(`Expected at least ${u.minArgs} ${d(u.minArgs)} for ${a}(), got ${p.length}`);if(p.length>u.maxArgs)throw new Error(`Expected at most ${u.maxArgs} ${d(u.maxArgs)} for ${a}(), got ${p.length}`);return new Promise((C,P)=>{const M=E.bind(null,{resolve:C,reject:P});p.push(M),A.sendMessage(...p)})},te={devtools:{network:{onRequestFinished:y(B)}},runtime:{onMessage:y(k),onMessageExternal:y(k),sendMessage:O.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:O.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},G={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return i.privacy={network:{"*":G},services:{"*":G},websites:{"*":G}},_(s,te,i)};n.exports=o(chrome)}})}(ie)),ie.exports}var En=bn();const Cn=wn(En),be=(e,r)=>r.some(n=>e instanceof n);let We,Ve;function Tn(){return We||(We=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kn(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ee=new WeakMap,pe=new WeakMap,ve=new WeakMap;function Dn(e){const r=new Promise((n,t)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n($(e.result)),o()},i=()=>{t(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",i)});return ve.set(r,e),r}function Pn(e){if(Ee.has(e))return;const r=new Promise((n,t)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{t(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Ee.set(e,r)}let Ce={get(e,r,n){if(e instanceof IDBTransaction){if(r==="done")return Ee.get(e);if(r==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $(e[r])},set(e,r,n){return e[r]=n,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function vr(e){Ce=e(Ce)}function Sn(e){return kn().includes(e)?function(...r){return e.apply(Te(this),r),$(this.request)}:function(...r){return $(e.apply(Te(this),r))}}function Mn(e){return typeof e=="function"?Sn(e):(e instanceof IDBTransaction&&Pn(e),be(e,Tn())?new Proxy(e,Ce):e)}function $(e){if(e instanceof IDBRequest)return Dn(e);if(pe.has(e))return pe.get(e);const r=Mn(e);return r!==e&&(pe.set(e,r),ve.set(r,e)),r}const Te=e=>ve.get(e);function In(e,r,{blocked:n,upgrade:t,blocking:o,terminated:s}={}){const i=indexedDB.open(e,r),f=$(i);return t&&i.addEventListener("upgradeneeded",l=>{t($(i.result),l.oldVersion,l.newVersion,$(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),f.then(l=>{s&&l.addEventListener("close",()=>s()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),f}const On=["get","getKey","getAll","getAllKeys","count"],Nn=["put","add","delete","clear"],_e=new Map;function Ue(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(_e.get(r))return _e.get(r);const n=r.replace(/FromIndex$/,""),t=r!==n,o=Nn.includes(n);if(!(n in(t?IDBIndex:IDBObjectStore).prototype)||!(o||On.includes(n)))return;const s=async function(i,...f){const l=this.transaction(i,o?"readwrite":"readonly");let c=l.store;return t&&(c=c.index(f.shift())),(await Promise.all([c[n](...f),o&&l.done]))[0]};return _e.set(r,s),s}vr(e=>({...e,get:(r,n,t)=>Ue(r,n)||e.get(r,n,t),has:(r,n)=>!!Ue(r,n)||e.has(r,n)}));const Bn=["continue","continuePrimaryKey","advance"],He={},ke=new WeakMap,hr=new WeakMap,Ln={get(e,r){if(!Bn.includes(r))return e[r];let n=He[r];return n||(n=He[r]=function(...t){ke.set(this,hr.get(this)[r](...t))}),n}};async function*Fn(...e){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...e)),!r)return;r=r;const n=new Proxy(r,Ln);for(hr.set(n,r),ve.set(n,Te(r));r;)yield n,r=await(ke.get(n)||r.continue()),ke.delete(n)}function Ke(e,r){return r===Symbol.asyncIterator&&be(e,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&be(e,[IDBIndex,IDBObjectStore])}vr(e=>({...e,get(r,n,t){return Ke(r,n)?Fn:e.get(r,n,t)},has(r,n){return Ke(r,n)||e.has(r,n)}}));var Rn=An('<main><div class="container"><h1>読書データ</h1></div> <div id="output" class="container"></div></main>');function jn(e,r){Ar(r,!1);const n="NarouReadCounterDB",t=1;let o,s=0;const i=99999;async function f(g,v){o||(o=await In(n,t));const h=o.transaction("dailyCounts","readonly"),y=h.store.index("dateIndex"),B=[];let k=await y.openCursor(null,"prev");for(let E=0;E<v&&k;E++)k=await k.continue();for(let E=0;E<g&&k;E++)B.push(k.value),k=await k.continue();return await h.done,B}function l(g){const v=Object.groupBy(g,h=>h.date);return Object.values(v).map(h=>h.reduce((_,y)=>(_.date=y.date,_.episodeCount+=y.episode_count||0,_.novelCount+=1,_.totalCount+=y.count||0,_),{episodeCount:0,novelCount:0,totalCount:0}))}async function c(g){const v=g*i,h=await f(i,v),_=l(h),y=document.getElementById("output");y.innerHTML="";let B=document.createElement("div");B.className="row",B.innerHTML=`
      <div class="column"><strong>日付</strong></div>
      <div class="column column-20"><strong>文字数</strong></div>
      <div class="column column-20"><strong>作品数</strong></div>
      <div class="column column-20"><strong>エピソード数</strong></div>
  `,y.appendChild(B);let k=[];for(let E of _){let O=document.createElement("div");O.className="row";const te=E.date,G=`${te.getMonth()+1}月${te.getDate()}日`;O.innerHTML=`
        <div class="column">${G}</div>
        <div class="column column-20">${E.totalCount}</div>
        <div class="column column-20">${E.novelCount}</div>
        <div class="column column-20">${E.episodeCount}</div>
    `,k.push(O)}k.forEach(E=>y.appendChild(E))}document.addEventListener("DOMContentLoaded",function(){c(s)}),Cn.runtime.onMessage.addListener(g=>(g.action==="dataChanged"&&c(s),!0)),_n();var d=Rn();dn(e,d),dr()}vn(jn,{target:document.getElementById("app")});
